<!DOCTYPE html>
<html lang="pt-br">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>cep</title>
    <link rel="stylesheet" href="style.css">
  </head>
  <body>
   <div class="pos">
    <div class="main">
      <h1>consulta endereço</h1>
     <div class="in">
      <input type="number" id="cep" />
      <input
        type="button"
        value="enviar"
        class="conferir"
        onclick="conferir()"
      />
    </div>
      <div id="resultado">
        
      </div>
    </div>
  </div>
    <script>
      function conferir() {
        let cep = document.querySelector("#cep").value;

         if(cep.length != 8){
           alert('CEP Invalido')
           return
         }

        let url = `https://viacep.com.br/ws/${cep}/json/`;
        fetch(url).then(function (response) {
          response.json().then(function (data) {
            console.log(data);
            mostrarEndereco(data);
          });
        });
      }
      function mostrarEndereco(dados) {
        let resultado = document.querySelector("#resultado");

        
        if (dados.erro) {
          resultado.innerHTML = "Não foi possivel localizar o endereço";
        } else {
          resultado.innerHTML = `<p> Endereço: ${dados.logradouro}</p>
                                <p> Localidade: ${dados.localidade}</p>`;
        }
      }
    </script>
  </body>
</html>
